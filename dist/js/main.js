Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},function(e,t){function n(e,n){var i=t.innerHeight,r=e.getBoundingClientRect().top;return-(r-i)>=n}function i(e){e.style.visibility="visible",e.style.opacity=1}function r(e){e.style.visibility="hidden",e.style.opacity=0}function o(e,t){var n=e/t,i=Math.round,e=i(40*n),t=i(40*n),r=i(10*n),o=i(10*n);h=new THREE.PlaneGeometry(e,t),d=new THREE.MeshBasicMaterial({vertexColors:THREE.VertexColors}),c=new THREE.Mesh(h,d),c.position.z=-5,c.rotation.z-=1,h.faces[0].vertexColors=[M,M,H],h.faces[1].vertexColors=[M,H,H],y.add(c),u=new THREE.PlaneGeometry(e,t,r,o),E=new THREE.MeshPhongMaterial({color:16777215,specular:16711680,shading:THREE.FlatShading,blending:THREE.MultiplyBlending,transparent:!0}),u.vertices.forEach(function(e){e.x+=1.5*(Math.random()-.5),e.y+=1.5*(Math.random()-.5)}),f=new THREE.Mesh(u,E),f.rotation.z-=1,y.add(f)}function a(){requestAnimationFrame(a);var e=new Date,t=(e-z)/3;u.vertices.reverse().forEach(function(e){e.z=b(e.x/e.y,t)}),f.material.needsUpdate=!0,f.geometry.verticesNeedUpdate=!0,T.render(y,w)}function s(){if(g!==t.outerWidth||p!==t.outerHeight){var e=m.getBoundingClientRect().width,n=m.getBoundingClientRect().height;y.children.pop(),y.children.pop(),o(e,n),w.aspect=e/n,w.updateProjectionMatrix(),T.setSize(e,n)}}var l=function(e){this.elements=e.elements||null,this.threshold=Number.isInteger(e.threshold)?e.threshold:5,this.elements.forEach(function(e){r(e)})};l.prototype.init=function(){var e=this;Array.isArray(this.elements)&&(e.elements.forEach(function(t){n(t,e.threshold)&&i(t)}),t.addEventListener("scroll",function(){e.elements.forEach(function(t){n(t,e.threshold)&&i(t)})}))},t.FadeOnScroll=l;var h,d,c,u,E,f,g=t.outerWidth,p=t.outerHeight,m=e.querySelector(".u-bg-poly"),v=m.getBoundingClientRect().width,R=m.getBoundingClientRect().height,y=new THREE.Scene,w=new THREE.PerspectiveCamera(75,v/R,.1,1e3),H=new THREE.Color(12392949),M=new THREE.Color(3961819),T=new THREE.WebGLRenderer;T.setSize(v,R),m.appendChild(T.domElement);var C=new THREE.PointLight;C.position.set(0,-300,400),y.add(C),w.position.z=12;var b=function(e,t){return(Math.sin(e+t/500)+Math.sin(2.2*e+t/500-2.3)+Math.sin(4.75*e+t/500+8))/8},z=new Date;o(v,R),a(),t.addEventListener("resize",s,!1)}(document,window);