Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},function(e,t){function n(e,n){var i=t.innerHeight,o=e.getBoundingClientRect().top;return-(o-i)>=n}function i(e){e.style.visibility="visible",e.style.opacity=1}function o(e){e.style.visibility="hidden",e.style.opacity=0}function r(e,n){function i(e,t){var i=e/t,o=Math.round,r=40,u="small"===n.size?7:10,e=o(r*i),t=o(r*i),E=o(u*i),f=o(u*i);a=new THREE.PlaneGeometry(e,t),s=new THREE.MeshBasicMaterial({vertexColors:THREE.VertexColors}),l=new THREE.Mesh(a,s),l.position.z=-5,l.rotation.z-=1,a.faces[0].vertexColors=[y,y,v],a.faces[1].vertexColors=[y,v,v],p.add(l),c=new THREE.PlaneGeometry(e,t,E,f),h=new THREE.MeshPhongMaterial({color:16777215,specular:16711680,shading:THREE.FlatShading,blending:THREE.MultiplyBlending,transparent:!0}),c.vertices.forEach(function(e){e.x+=1.5*(Math.random()-.5),e.y+=1.5*(Math.random()-.5)}),d=new THREE.Mesh(c,h),d.rotation.z-=1,p.add(d)}function o(){requestAnimationFrame(o);var e=new Date,t=(e-T)/3;c.vertices.forEach(function(e){e.z=M(e.x,t)}),d.material.needsUpdate=!0,d.geometry.verticesNeedUpdate=!0,R.render(p,m)}function r(){if(u!==t.outerWidth||E!==t.outerHeight){var n=e.getBoundingClientRect().width,o=e.getBoundingClientRect().height;p.children.pop(),p.children.pop(),i(n,o),m.aspect=n/o,m.updateProjectionMatrix(),R.setSize(n,o)}}var a,s,l,c,h,d,n=n||{},u=t.outerWidth,E=t.outerHeight,f=e.getBoundingClientRect().width,g=e.getBoundingClientRect().height,p=new THREE.Scene,m=new THREE.PerspectiveCamera(75,f/g,.1,1e3),v=new THREE.Color(12392949),y=new THREE.Color(3961819),R=new THREE.WebGLRenderer;R.setSize(f,g),e.appendChild(R.domElement);var w,H=new THREE.PointLight;switch(n.lightPosition){case"left":w=[300,0,250];break;case"right":w=[-300,0,250];break;case"up":w=[0,300,250];break;case"down":default:w=[0,-300,250]}H.position.set.apply(H.position,w),p.add(H),m.position.z=12;var M=function(e,t){return(Math.sin(e+t/500)+Math.sin(2.2*e+t/500-2.3)+Math.sin(4.75*e+t/500+8))/8},T=new Date;i(f,g),o(),t.addEventListener("resize",r,!1)}var a=function(e){this.elements=e.elements||null,this.threshold=Number.isInteger(e.threshold)?e.threshold:5,this.elements.forEach(function(e){o(e)})};a.prototype.init=function(){var e=this;Array.isArray(this.elements)&&(e.elements.forEach(function(t){n(t,e.threshold)&&i(t)}),t.addEventListener("scroll",function(){e.elements.forEach(function(t){n(t,e.threshold)&&i(t)})}))},t.FadeOnScroll=a,r(e.querySelector(".u-bg-poly")),r(e.querySelector("footer"),{size:"small",lightPosition:"up"})}(document,window);